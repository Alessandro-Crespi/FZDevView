(this.webpackJsonpnova_investor=this.webpackJsonpnova_investor||[]).push([[7],{502:function(e,t,n){},518:function(e,t,n){"use strict";n.r(t);var c=n(12),s=n(3),a=n(4),i=n.n(a),l=n(1),r=n(208),o=n(219),d=n.n(o),j=n(258),u=n(435),b=n(434),m=n(515),O=n(516),h=n(463),x=n(46),g=n(503),f=n.n(g),v=n(483),p=n(60),N=n.n(p),C=n(517),I=n(347),_=n(259),y=n(514),k=n(91),F=n.n(k),E=n(350),S=(n(502),n(0));var R=function(e){var t=e.children,n=e.open,c=e.closeFunction;return Object(S.jsx)(E.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:n,onClose:c,closeAfterTransition:!0,BackdropProps:{timeout:500},className:"centered",children:Object(S.jsx)("div",{className:"modal_container",children:t})})},w=n(454);t.default=function(e){var t=e.user,n=Object(l.useState)(!1),a=Object(s.a)(n,2),o=a[0],g=a[1],p=Object(l.useState)([]),k=Object(s.a)(p,2),E=k[0],T=k[1],U=Object(l.useState)({}),z=Object(s.a)(U,2),L=z[0],W=z[1],A=Object(l.useRef)([]),B=Object(l.useState)(null),P=Object(s.a)(B,2),G=P[0],J=P[1],M=Object(l.useRef)(!1),X=Object(l.useState)(!1),q=Object(s.a)(X,2),D=q[0],H=q[1],V=Object(l.useState)(!1),K=Object(s.a)(V,2),Q=K[0],Y=K[1],Z=Object(l.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(l.useState)(!1),ce=Object(s.a)(ne,2),se=ce[0],ae=ce[1];function ie(){return(ie=Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAllRoles();case 2:n=e.sent,T(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){M.current||(t&&t.canI("manage_roles")&&(!function(){ie.apply(this,arguments)}(),t.getCreatedCodesFromServer()),t.getInterestsField().loadFields(),t.getInterestsField().loadUserFieldsOfInterest(),M.current=!0)}),[t]),Object(l.useEffect)((function(){document.getElementById("content_container").style.overflow=se?"hidden":"",document.getElementById("content_container").scrollTop=0}),[se]),Object(S.jsxs)("div",{id:"info_section",children:[Object(S.jsx)("h2",{children:"Informazioni"}),Object(S.jsxs)("div",{className:"display_inline mt-3",children:[Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"avatar_container",children:Object(S.jsxs)("h1",{style:{fontSize:"100px"},children:[t.getSurname()[0],t.getName()[0]]})})}),Object(S.jsxs)("div",{className:"m-3 centered",children:[Object(S.jsxs)("h4",{className:"name",children:[t&&t.getSurname()," ",t&&t.getName()]}),Object(S.jsx)("p",{className:"username thin",children:t&&t.getUsername()}),Object(S.jsxs)("div",{className:"",children:[Object(S.jsx)(y.a,{label:"Ruoli",className:"my_chip bounce",onClick:function(){return Y(!0)}}),Object(S.jsx)(y.a,{label:"Campi d'interesse",className:"my_chip",onClick:function(){return te(!0)}}),Object(S.jsx)(y.a,{label:"Statistiche",className:"my_chip",onClick:function(){return ae(!0)}})]})]})]}),Object(S.jsxs)(u.a,{className:"mt-3",children:[Object(S.jsxs)(b.a,{md:"6",children:[Object(S.jsx)(r.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Nome",variant:"outlined",value:t&&t.getName(),onChange:function(e){t&&t.setName(e.target.value),H(!0)}}),Object(S.jsx)(r.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Email",variant:"outlined",value:t&&t.getEmail(),contentEditable:!1,onChange:function(e){t&&t.setEmail(e.target.value),H(!0)}})]}),Object(S.jsxs)(b.a,{md:"6",children:[Object(S.jsx)(r.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Cognome",variant:"outlined",type:"date",value:t&&t.getSurname(),onChange:function(e){t&&t.setSurname(e.target.value),H(!0)}}),Object(S.jsx)(r.a,{className:"my_input",margin:"normal",fullWidth:!0,label:"Compleanno",variant:"outlined",type:"date",InputLabelProps:{shrink:!0},value:t&&t.getBirthday(),onChange:function(e){t&&t.setBirthday(e.target.value),H(!0)}})]})]}),D?Object(S.jsx)("div",{className:"centered",children:Object(S.jsx)("button",{className:"button m-3",onClick:function(){t&&t.putInfo(),H(!1)},children:"Salva"})}):"",Object(S.jsx)(b.a,{children:Object(S.jsxs)("div",{className:"block mt-3 p-4",children:[Object(S.jsx)("h3",{children:"Codice d'invito"}),Object(S.jsx)("p",{children:"Lorem Ipsum \xe8 un testo segnaposto utilizzato nel settore della tipografia e della stampa. Lorem Ipsum \xe8 considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo tipografo prese una cassetta di caratteri."}),Object(S.jsx)("br",{}),Object(S.jsxs)(u.a,{children:[Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin")?Object(S.jsxs)(b.a,{md:"6",children:[Object(S.jsx)("h6",{children:"Scegli i ruoli"}),Object(S.jsx)(m.a,{children:E.map((function(e){return"super-admin"!=e.slug?Object(S.jsx)(O.a,{control:Object(S.jsx)(h.a,{className:"orange_icon",onChange:function(){A.current.indexOf(e.slug)>-1?A.current.splice(A.current.indexOf(e.slug),1):A.current.push(e.slug)}}),label:e.name}):""}))}),Object(S.jsx)("button",{className:"button",onClick:function(){t.generateCode(A.current).then((function(e){return g(!0)})).catch((function(e){return console.log(e)}))},children:"Genera codice"}),Object(S.jsx)("br",{}),o?Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(b.a,{md:"6",className:"display_inline mb-3",children:[Object(S.jsx)(r.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Titolo",variant:"outlined",contentEditable:!1,value:t&&t.getCodiceInvito()}),Object(S.jsx)("div",{className:"centered m-2",children:Object(S.jsx)(j.a,{children:Object(S.jsx)(d.a,{className:"orange_icon",onClick:function(){return navigator.clipboard.writeText(t&&t.getCodiceInvito())}})})})]})}):""]}):"",Object.values(t.getRole()).map((function(e){return e.slug})).includes("super-admin")?Object(S.jsxs)(b.a,{md:"6",children:[Object(S.jsx)("h6",{children:"Codici non usati"}),t&&t.getCreatedCodes().map((function(e){return 0==(null===e||void 0===e?void 0:e.usages)?Object(S.jsxs)("div",{className:"display_inline",children:[Object(S.jsx)(r.a,{className:"my_input",margin:"normal",fullWidth:!0,multiline:!0,label:"Titolo",variant:"outlined",contentEditable:!1,value:e.code}),Object(S.jsx)("div",{className:"centered m-2",children:Object(S.jsx)(j.a,{children:Object(S.jsx)(d.a,{className:"orange_icon",onClick:function(){return navigator.clipboard.writeText(e.code)}})})}),Object(S.jsxs)("div",{className:"centered m-2",children:[Object(S.jsx)(j.a,{id:e.code,onMouseEnter:function(e){return J(e.currentTarget)},onMouseLeave:function(){return J(null)},children:Object(S.jsx)(f.a,{className:"orange_icon"})}),Object(S.jsx)(v.a,{id:"mouse-over-popover",open:(null===G||void 0===G?void 0:G.id)==e.code,anchorEl:G,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:function(){return J(null)},disableRestoreFocus:!0,children:Object(S.jsx)("p",{children:e.roles})})]}),Object(S.jsx)("div",{className:"centered m-2",children:Object(S.jsx)(j.a,{children:Object(S.jsx)(N.a,{className:"orange_icon",onClick:function(){return t.deleteCode(e.code).then((function(){return W({error:!1,message:"Eliminazione completata"})})).catch((function(){return W({error:!0,message:"Errore"})}))}})})})]}):""}))]}):Object(S.jsxs)(b.a,{children:[Object(S.jsx)("h6",{children:"Hai un codice?"}),Object(S.jsx)("input",{className:"input",placeholder:"Codice...",value:t&&t.getCodiceInvito(),onChange:function(e){return t&&t.setCodiceInvito(e.target.value)}}),Object(S.jsx)("button",{className:"button mx-auto",onClick:function(){t&&t.redeemCode().then((function(){return t.refreshing().then((function(){t.setCodiceInvito(""),Y(!0)}))})).catch((function(e){console.log(e),W({error:!0,message:"Codice non valido"})}))},children:"Attiva"})]})]})]})}),Object.keys(L).length?Object(S.jsx)(x.a,{isError:L.error,message:L.message,removeFunction:function(){return W({})}}):"",Object(S.jsx)(R,{open:Q,closeFunction:function(){return Y(!1)},children:Object(S.jsx)(I.a,{in:Q,children:Object(S.jsxs)(C.a,{className:"modal_redeem_code",children:[Object(S.jsx)(_.a,{id:"transition-modal-title",variant:"h4",component:"h1",className:"text-center",children:"I tuoi Ruoli"}),Object(S.jsx)("br",{}),Object(S.jsx)(_.a,{id:"transition-modal-description",sx:{mt:2},children:t&&t.getRole().map((function(e){return Object(S.jsx)(y.a,{label:e.slug,style:{color:"white",background:"var(--details_color)",margin:2}})}))}),Object(S.jsx)("br",{}),Object(S.jsx)(F.a,{className:"close_modal",onClick:function(){return Y(!1)}})]})})}),Object(S.jsx)(R,{open:ee,closeFunction:function(){return te(!1)},children:Object(S.jsx)(I.a,{in:ee,children:Object(S.jsx)("div",{children:Object(S.jsxs)(b.a,{md:"8",className:"mx-auto",children:[Object(S.jsx)("h1",{children:"I tuoi campi d'interesse"}),Object(S.jsx)("p",{style:{fontWeight:200},children:"Modificali in base ai tuoi gusti!"}),t&&t.getInterestsField().getFieldOfInterest().map((function(e){return Object(S.jsx)(y.a,{label:e.getName(),className:"my_chip"+(t.getInterestsField().getUserInterests().includes(e.getId())?" orange":""),onClick:function(){return function(e){t.getInterestsField().getUserInterests().includes(e.getId())?t.getInterestsField().removeUserFieldOfInterest(e.getId()):t.getInterestsField().addUserFieldOfInterest(e.getId())}(e)}})}))]})})})}),Object(S.jsx)(w.a,{in:se,children:Object(S.jsxs)("div",{id:"statistics",className:"text-center centered",children:[Object(S.jsx)(F.a,{className:"close bounce",onClick:function(){return ae(!1)}}),Object(S.jsx)("h5",{className:"subtitle",children:"LA TUA LEGA"}),Object(S.jsx)("h1",{className:"title",children:t&&t.getLeague()}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(u.a,{children:[Object(S.jsxs)(b.a,{md:"4",className:"centered",children:[Object(S.jsx)("h5",{className:"subtitle bounce",children:"XP"}),Object(S.jsx)("h1",{className:"title bounce",children:t&&t.getXP()})]}),Object(S.jsx)(b.a,{md:"4"}),Object(S.jsxs)(b.a,{md:"4",className:"centered",children:[Object(S.jsx)("h5",{className:"subtitle bounce",children:"GIORNI CONSECUTIVI"}),Object(S.jsx)("h1",{className:"title bounce",children:t&&t.getConsecutiveDaysJoin()})]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"ball one bounce"}),Object(S.jsx)("div",{className:"ball two bounce"}),Object(S.jsx)("div",{className:"ball three bounce"}),Object(S.jsx)("div",{className:"ball four bounce"}),Object(S.jsx)("div",{className:"ball five bounce"})]})]})})]})}}}]);
//# sourceMappingURL=7.9e9d1eb8.chunk.js.map