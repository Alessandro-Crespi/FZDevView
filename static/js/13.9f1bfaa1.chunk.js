(this.webpackJsonpnova_investor=this.webpackJsonpnova_investor||[]).push([[13],{511:function(e,t,a){"use strict";a.r(t);var n=a(26),c=a(3),i=a(1),s=a(513),r=a(508),l=a(479),u=a(470),j=a(435),o=a(434),d=a(218),b=a(222),O=a(461),m=a(485),g=a(220),f=a(486),x=a(98),h=a(15),p=a(0);t.default=function(e){var t=Object(i.useState)(1),a=Object(c.a)(t,2),v=a[0],N=a[1],I=Object(i.useState)(""),T=Object(c.a)(I,2),k=T[0],S=T[1],C=Object(i.useState)(new d.a),y=Object(c.a)(C,2),F=y[0],_=y[1],L=Object(i.useState)(new b.a),w=Object(c.a)(L,2),A=w[0],E=w[1],D=Object(i.useState)(new g.a),J=Object(c.a)(D,2),P=J[0],V=J[1],z=Object(i.useState)(!0),B=Object(c.a)(z,2),K=B[0],W=B[1],q=Object(i.useState)(""),G=Object(c.a)(q,2),H=G[0],M=G[1],Q=Object(i.useState)(""),R=Object(c.a)(Q,2),U=R[0],X=R[1],Y=Object(i.useState)([]),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=Object(i.useState)([]),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],ie=Object(i.useState)({confirm:void 0,refute:void 0}),se=Object(c.a)(ie,2),re=se[0],le=se[1],ue=Object(h.f)(),je=e.user,oe=e.routes;return Object(i.useEffect)((function(){""!=H&&ee(A.getTagPerField(H))}),[H]),Object(i.useEffect)((function(){""!=U&&ce(F.getTagPerArgument(U))}),[U]),Object(i.useEffect)((function(){F.setState(_),A.setState(E),P.setState(V),je&&je.canI("create_tag")&&(F.loadTags(),A.loadFields(),P.loadArguments()),W(!1)}),[]),Object(i.useEffect)((function(){je&&(je.canI("create_tag")||ue(oe.home.path))}),[je]),Object(p.jsxs)("div",{className:"tag_field",children:[Object(p.jsx)("h1",{children:"Tag & Field"}),Object(p.jsx)("p",{style:{fontWeight:200},children:"Creazione dei campi di interesse e dei tag."}),Object(p.jsxs)(s.a,{value:v,onChange:function(e,t){return N(t)},scrollButtons:"auto",children:[Object(p.jsx)(r.a,{label:"Tag",value:1}),Object(p.jsx)(r.a,{label:"Campi d'interesse",value:2}),Object(p.jsx)(r.a,{label:"Link",value:3})]}),Object(p.jsx)(j.a,{className:"content",children:Object(p.jsxs)(o.a,{className:"mx-auto",children:[Object(p.jsx)(o.a,{md:"6",className:"mx-auto",children:[1,2].includes(v)?Object(p.jsx)("input",{className:"input",placeholder:"Nuovo tag",value:k,onChange:function(e){return S(e.target.value)},onKeyDown:function(e){return function(e){"Enter"==e.key&&(1==v?F.create(k):2==v&&A.create(k),S(""))}(e)}}):""}),Object(p.jsxs)("div",{children:[1==v?F.getList().map((function(e){return Object(p.jsx)(l.a,{className:"my_chip",label:e.getName(),onDelete:function(){return le({confirm:function(){return F.delete(e.getId())},refute:void 0})}})})):2==v?A.getFieldOfInterest().map((function(e){return Object(p.jsx)(l.a,{className:"my_chip",label:e.getName(),onDelete:function(){return le({confirm:function(){return A.delete(e.getId())},refute:void 0})}})})):"",Object(p.jsx)("br",{}),K?"":1==v?0==F.getList().length?Object(p.jsx)("p",{className:"text-center",children:"Non sono stati caricati tag"}):"":2==v?0==A.getFieldOfInterest().length?Object(p.jsx)("p",{className:"text-center",children:"Non sono stati caricati campi"}):"":3==v?Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"Link fra campi e tag"}),Object(p.jsxs)(j.a,{children:[Object(p.jsxs)(o.a,{md:"6",children:[Object(p.jsx)("p",{className:"m-0",children:"Campo"}),Object(p.jsx)(O.a,{value:H,variant:"standard",className:"input",label:"Campo",children:A.getFieldOfInterest().map((function(e){return Object(p.jsx)(m.a,{value:e.getId(),onClick:function(){return M(e.getId())},children:Object(p.jsx)(f.a,{primary:e.getName()})},e.getId())}))})]}),Object(p.jsxs)(o.a,{md:"6",children:[Object(p.jsx)("p",{className:"m-0",children:"Tag"}),Object(p.jsx)(O.a,{renderValue:function(e){return e.map((function(e){return e.getName()})).join(", ")},multiple:!0,value:$,variant:"standard",className:"input",label:"Tag",children:F.getList().map((function(e){return Object(p.jsxs)(m.a,{onClick:function(){return function(e,t){if(""!=H)if(t)ee([].concat(Object(n.a)($),[e])),e.linkFieldToTag(H);else{var a=$.map((function(e){return e.getId()})).indexOf(e.id);a>=0&&($.splice(a,1),ee(Object(n.a)($))),e.unlinkFieldToTag(H)}}(e,!$.map((function(e){return e.getId()})).includes(e.getId()))},children:[Object(p.jsx)(u.a,{className:"orange_icon",checked:$.map((function(e){return e.getId()})).includes(e.getId())}),Object(p.jsx)(f.a,{primary:e.getName()})]})}))})]})]}),Object(p.jsx)("br",{}),Object(p.jsxs)(j.a,{children:[Object(p.jsx)("h5",{children:"Link fra academy e tag"}),Object(p.jsxs)(o.a,{md:"6",children:[Object(p.jsx)("p",{className:"m-0",children:"Argomento"}),Object(p.jsx)(O.a,{value:U,variant:"standard",className:"input",label:"Categoria",children:Object.values(P.getArguments().getChoices()).map((function(e){return Object(p.jsx)(m.a,{value:e.slug,onClick:function(){return X(e.slug)},children:Object(p.jsx)(f.a,{primary:e.title})},e.slug)}))})]}),Object(p.jsxs)(o.a,{md:"6",children:[Object(p.jsx)("p",{className:"m-0",children:"Tag"}),Object(p.jsx)(O.a,{renderValue:function(e){return e.map((function(e){return e.getName()})).join(", ")},multiple:!0,value:ne,variant:"standard",className:"input",label:"Tag",children:F.getList().map((function(e){return Object(p.jsxs)(m.a,{onClick:function(){return function(e,t){if(""!=U)if(t)ce([].concat(Object(n.a)(ne),[e])),e.linkTagToArg(U);else{var a=ne.map((function(e){return e.getId()})).indexOf(e.id);a>=0&&(ne.splice(a,1),ce(Object(n.a)(ne))),e.unlinkTagToArg(U)}}(e,!ne.map((function(e){return e.getId()})).includes(e.getId()))},children:[Object(p.jsx)(u.a,{className:"orange_icon",checked:ne.map((function(e){return e.getId()})).includes(e.getId())}),Object(p.jsx)(f.a,{primary:e.getName()})]})}))})]})]})]}):""]})]})}),Object(p.jsx)(x.a,{action:re,closeFunction:function(){return le({confirm:void 0,refute:void 0})}})]})}}}]);
//# sourceMappingURL=13.9f1bfaa1.chunk.js.map