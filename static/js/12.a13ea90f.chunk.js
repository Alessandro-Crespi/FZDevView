(this.webpackJsonpnova_investor=this.webpackJsonpnova_investor||[]).push([[12],{519:function(e,t,n){"use strict";n.r(t);var r=n(12),c=n(3),a=n(4),s=n.n(a),u=n(1),o=n(21),i=n(19),p=n(16),j=n(11),b=n.n(j),f=n(13),l=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getUserPortal",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,b.a.ajax({type:"GET",url:p.a+"stripe/user_portal",accepts:"json",contentType:"json",beforeSend:f.a,success:function(e){return t=e}});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getProducts",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,b.a.ajax({type:"GET",url:p.a+"stripe/products",accepts:"json",contentType:"json",beforeSend:f.a,success:function(e){return t=e.products}});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"checkout",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,b.a.ajax({type:"POST",url:p.a+"/stripe/check_out/"+t,accepts:"json",contentType:"json",beforeSend:f.a,success:function(e){return n=e}});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),h=l,d=n(473),x=n(46),O=n(0);t.default=function(){var e=Object(u.useState)(new h),t=Object(c.a)(e,2),n=t[0],a=(t[1],Object(u.useState)([])),o=Object(c.a)(a,2),i=o[0],p=o[1],j=Object(u.useState)(""),b=Object(c.a)(j,2),f=b[0],l=b[1],v=Object(u.useState)(!1),m=Object(c.a)(v,2),w=m[0],k=m[1];function y(){return(y=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),window.open(f,"blank");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(r.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,n.checkout(t);case 3:r=e.sent,window.open(r,"blank");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.useEffect)(Object(r.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProducts();case 2:return t=e.sent,p(t),e.next=6,n.getUserPortal();case 6:r=e.sent,l(r);case 8:case"end":return e.stop()}}),e)}))),[]),Object(O.jsxs)("div",{id:"payments",children:[Object(O.jsxs)("div",{className:"space_between",children:[Object(O.jsx)("h2",{className:"m-0 centered",children:"Abbonamento"}),Object(O.jsx)("div",{className:"centered",children:""!=f?Object(O.jsx)("button",{className:"button",onClick:function(){return y.apply(this,arguments)},children:"Info"}):""})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"grid",children:0!=i.length?i.map((function(e,t){return Object(O.jsxs)("div",{className:"block bounce m-2",onClick:function(){return function(e){return g.apply(this,arguments)}(e.price.id)},children:[Object(O.jsx)("h1",{className:"text-center",children:t+1}),Object(O.jsx)("h5",{className:"text-center",children:e.product_name}),Object(O.jsxs)("p",{className:"text-center m-0",children:[e.price.amount,"\u20ac"]})]})})):Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{height:"100px",className:"m-0"}),Object(O.jsx)(d.a,{height:"100px"}),Object(O.jsx)(d.a,{height:"100px"})]})}),w?Object(O.jsx)(x.a,{removeFunction:function(){return k(!1)},isError:!1,message:"Caricamento..."}):""]})}}}]);
//# sourceMappingURL=12.a13ea90f.chunk.js.map